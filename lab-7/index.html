<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lab 7: Mad Lib</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-wrapper">
    <header class="site-header">
      <h1>Mad Libs</h1>
      <h2>A Custom Story Ad-Lib</h2>
    </header>

    <main>
      <!-- FORM CARD -->
      <section class="madlib-card">
        <h3 class="madlib-title">A Fun Story Ad-Lib</h3>

        <!-- NOTE: no action, no method, no submit -->
        <form id="madLibForm">
          <table class="madlib-table">
            <tr>
              <td class="label-cell"><label for="animal">ANIMAL</label></td>
              <td><input type="text" id="animal" name="animal" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun1">NOUN</label></td>
              <td><input type="text" id="noun1" name="noun1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="place">PLACE</label></td>
              <td><input type="text" id="place" name="place" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="pluralNoun">NOUN (PLURAL)</label></td>
              <td><input type="text" id="pluralNoun" name="pluralNoun" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adjective1">ADJECTIVE</label></td>
              <td><input type="text" id="adjective1" name="adjective1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="bodyPart">BODY PART</label></td>
              <td><input type="text" id="bodyPart" name="bodyPart" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun2">NOUN</label></td>
              <td><input type="text" id="noun2" name="noun2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun3">NOUN</label></td>
              <td><input type="text" id="noun3" name="noun3" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="verbEd1">VERB ENDING IN "ED"</label></td>
              <td><input type="text" id="verbEd1" name="verbEd1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adjective2">ADJECTIVE</label></td>
              <td><input type="text" id="adjective2" name="adjective2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun4">NOUN</label></td>
              <td><input type="text" id="noun4" name="noun4" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="verbEd2">VERB ENDING IN "ED"</label></td>
              <td><input type="text" id="verbEd2" name="verbEd2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adverb">ADVERB</label></td>
              <td><input type="text" id="adverb" name="adverb" required></td>
            </tr>
          </table>

          <div class="button-row">
            <!-- type="button" so it NEVER submits the form -->
            <button type="button" id="goButton" class="go-button">Go Mad!</button>
          </div>
        </form>
      </section>

      <!-- RESULT CARD (hidden until user clicks Go Mad) -->
      <section id="resultSection" class="madlib-card result-card" style="display: none;">
        <h3 class="madlib-title">Your Story</h3>
        <div id="storyBox" class="story-box"></div>
      </section>
    </main>

    <footer>
      <p>Last updated:
        <span id="lastModified"></span>
      </p>
    </footer>
  </div>

  <script>
    const form = document.getElementById('madLibForm');
    const goButton = document.getElementById('goButton');
    const resultSection = document.getElementById('resultSection');
    const storyBox = document.getElementById('storyBox');

    goButton.addEventListener('click', function () {
      const inputs = form.querySelectorAll('input[type="text"]');
      let valid = true;

      // validation
      inputs.forEach(input => {
        if (!input.value.trim()) {
          valid = false;
          input.classList.add('error');
        } else {
          input.classList.remove('error');
        }
      });

      if (!valid) {
        alert('Please fill in all fields before clicking "Go Mad!".');
        return;
      }

      // Get values
      const animal      = document.getElementById('animal').value.trim();
      const noun1       = document.getElementById('noun1').value.trim();
      const place       = document.getElementById('place').value.trim();
      const pluralNoun  = document.getElementById('pluralNoun').value.trim();
      const adjective1  = document.getElementById('adjective1').value.trim();
      const bodyPart    = document.getElementById('bodyPart').value.trim();
      const noun2       = document.getElementById('noun2').value.trim();
      const noun3       = document.getElementById('noun3').value.trim();
      const verbEd1     = document.getElementById('verbEd1').value.trim();
      const adjective2  = document.getElementById('adjective2').value.trim();
      const noun4       = document.getElementById('noun4').value.trim();
      const verbEd2     = document.getElementById('verbEd2').value.trim();
      const adverb      = document.getElementById('adverb').value.trim();

      // Build story
      let story = `
One night, a ${animal} and a ${noun1} were walking through ${place}.
Suddenly, a group of ${pluralNoun} appeared, looking very ${adjective1}.
With a brave ${bodyPart}, our hero grabbed a ${noun2} and ${verbEd1} forward.
The ${noun3} nearby started to glow ${adjective2}, and a mysterious ${noun4}
${verbEd2} ${adverb} into the darkness. It was a night nobody would ever forget!
      `;

      storyBox.innerHTML = story.trim().replace(/\\n/g, '<br>');
      resultSection.style.display = 'block';
      resultSection.scrollIntoView({ behavior: 'smooth' });
    });

    // "Last updated" footer
    var x = document.lastModified;
    document.getElementById('lastModified').textContent = x;
  </script>
</body>
</html>
