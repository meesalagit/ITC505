<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lab 7: Mad Lib</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="page-wrapper">
    <header class="site-header">
      <h1>Mad Libs</h1>
      <h2>A Custom Story Ad-Lib</h2>
      <p style="text-align:center;font-size:0.8rem;margin-top:4px;">Lab 7 v3 + Addendum</p>
    </header>

    <main>
      <!-- INPUT CARD (NO FORM TAG) -->
      <section class="madlib-card">
        <h3 class="madlib-title">A Fun Story Ad-Lib</h3>

        <div id="madLibFields">
          <table class="madlib-table">
            <tr>
              <td class="label-cell"><label for="animal">ANIMAL</label></td>
              <td><input type="text" id="animal" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun1">NOUN</label></td>
              <td><input type="text" id="noun1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="place">PLACE</label></td>
              <td><input type="text" id="place" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="pluralNoun">NOUN (PLURAL)</label></td>
              <td><input type="text" id="pluralNoun" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adjective1">ADJECTIVE</label></td>
              <td><input type="text" id="adjective1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="bodyPart">BODY PART</label></td>
              <td><input type="text" id="bodyPart" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun2">NOUN</label></td>
              <td><input type="text" id="noun2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun3">NOUN</label></td>
              <td><input type="text" id="noun3" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="verbEd1">VERB ENDING IN "ED"</label></td>
              <td><input type="text" id="verbEd1" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adjective2">ADJECTIVE</label></td>
              <td><input type="text" id="adjective2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="noun4">NOUN</label></td>
              <td><input type="text" id="noun4" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="verbEd2">VERB ENDING IN "ED"</label></td>
              <td><input type="text" id="verbEd2" required></td>
            </tr>
            <tr>
              <td class="label-cell"><label for="adverb">ADVERB</label></td>
              <td><input type="text" id="adverb" required></td>
            </tr>
          </table>

          <div class="button-row">
            <!-- JUST A BUTTON, NOT A SUBMIT -->
            <button type="button" id="goButton" class="go-button">Go Mad!</button>
          </div>
        </div>
      </section>

      <!-- RESULT CARD -->
      <section id="resultSection" class="madlib-card result-card" style="display: none;">
        <h3 class="madlib-title">Your Story</h3>
        <div id="storyBox" class="story-box"></div>
      </section>
    </main>

    <!-- FOOTER WITH ADDENDUM -->
    <footer>
      <p><strong>Lab 7 Addendum</strong></p>
      <p style="max-width:800px;margin:0 auto;text-align:justify;font-size:0.9rem;line-height:1.5;">
        This lab implements a Mad Lib web application using HTML, CSS, and JavaScript. Users provide different
        word types (nouns, adjectives, verbs, etc.) and the page dynamically generates a short story on the same
        page using their input. The layout and styling are inspired by classic Mad Lib sites: a centered card,
        purple background, and simple table-based form. JavaScript performs client-side validation, highlights
        missing fields, and constructs the story using template literals. The generated story appears below the
        form without reloading the page, which is important because this version is hosted on GitHub Pages and
        cannot use POST requests or a Node/Express back-end. A separate ExpressJS server file can be used on a
        real server to handle the same Mad Lib logic on the back-end. This project demonstrates front-end
        interactivity, basic form handling, and dynamic content rendering in the browser.
      </p>

      <p style="margin-top:1rem;">Last updated:
        <span id="lastModified"></span>
      </p>
    </footer>
  </div>

  <script>
    const goButton = document.getElementById('goButton');
    const resultSection = document.getElementById('resultSection');
    const storyBox = document.getElementById('storyBox');

    goButton.addEventListener('click', function () {
      const inputs = document.querySelectorAll('#madLibFields input[type="text"]');
      let valid = true;

      inputs.forEach(input => {
        if (!input.value.trim()) {
          valid = false;
          input.classList.add('error');
        } else {
          input.classList.remove('error');
        }
      });

      if (!valid) {
        alert('Please fill in all fields before clicking "Go Mad!".');
        return;
      }

      const animal      = document.getElementById('animal').value.trim();
      const noun1       = document.getElementById('noun1').value.trim();
      const place       = document.getElementById('place').value.trim();
      const pluralNoun  = document.getElementById('pluralNoun').value.trim();
      const adjective1  = document.getElementById('adjective1').value.trim();
      const bodyPart    = document.getElementById('bodyPart').value.trim();
      const noun2       = document.getElementById('noun2').value.trim();
      const noun3       = document.getElementById('noun3').value.trim();
      const verbEd1     = document.getElementById('verbEd1').value.trim();
      const adjective2  = document.getElementById('adjective2').value.trim();
      const noun4       = document.getElementById('noun4').value.trim();
      const verbEd2     = document.getElementById('verbEd2').value.trim();
      const adverb      = document.getElementById('adverb').value.trim();

      let story = `
One night, a ${animal} and a ${noun1} were walking through ${place}.
Suddenly, a group of ${pluralNoun} appeared, looking very ${adjective1}.
With a brave ${bodyPart}, our hero grabbed a ${noun2} and ${verbEd1} forward.
The ${noun3} nearby started to glow ${adjective2}, and a mysterious ${noun4}
${verbEd2} ${adverb} into the darkness. It was a night nobody would ever forget!
      `;

      storyBox.innerHTML = story.trim().replace(/\n/g, '<br>');
      resultSection.style.display = 'block';
      resultSection.scrollIntoView({ behavior: 'smooth' });
    });

    // Last updated footer
    var x = document.lastModified;
    document.getElementById('lastModified').textContent = x;
  </script>
</body>
</html>
